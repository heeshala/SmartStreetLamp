<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">   

</div>
<div class="container">
    <h1 class="d-flex justify-content-center">Issue Records</h1><br>
    <table class="table table-hover table-bordered" >
        <thead class="thead-dark">
          <th>Issue Id</th>
          <th>Issue</th>
          <th>Lamp</th> 
          <th>Reported</th>
          <th>Status</th>
          <th>AssignedTo</th>
        </thead>
        <tbody id="tbody1">
    
        </tbody>  
       </table>
<body>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-database.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "####Protected####",
    authDomain: "####Protected####",
    databaseURL: "####Protected####",
    projectId: "####Protected####",
    storageBucket: "####Protected####",
    messagingSenderId: "####Protected####",
    appId: "####Protected####",
    measurementId: "####Protected####"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

  function SelectHistory(){
    firebase.database().ref('history').on('value',function (snapshot){
    snapshot.forEach(function (childSnapshot){
        var id=childSnapshot.key;
        var issue=childSnapshot.val().Issue;
        var lamp=childSnapshot.val().Lamp;
        var reported=childSnapshot.val().Reported;
        var status=childSnapshot.val().Status;
        var assign=childSnapshot.val().AssignedTo;
        AddItemsToTable(id,issue,lamp,reported,status,assign);
    });
  }
     
  );
  }

  window.onload=SelectHistory;

  function AddItemsToTable(id,issue,lamp,reported,status,assign){
      var tbody=document.getElementById('tbody1');
      var trow=document.createElement('tr');
      var td1=document.createElement('td');
      var td2=document.createElement('td');
      var td3=document.createElement('td');
      var td4=document.createElement('td');
      var td5=document.createElement('td');
      var td6=document.createElement('td');
      td1.innerHTML=id;
      td2.innerHTML=issue;
      td3.innerHTML=lamp;
      td4.innerHTML=reported;
      td5.innerHTML=status;
      td6.innerHTML=assign;
      trow.appendChild(td1);trow.appendChild(td2);trow.appendChild(td3);trow.appendChild(td4);trow.appendChild(td5);trow.appendChild(td6);
      tbody.appendChild(trow);
  }
  

  


</script>

</div>
</body>
</html>
